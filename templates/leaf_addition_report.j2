========================================
LEAF SWITCH ADDITION REPORT
========================================

Addition Date: {{ ansible_date_time.iso8601 }}

NEW LEAF SWITCH:
Hostname: {{ new_leaf_info.hostname }}
Management IP: {{ new_leaf_info.ip }}
Leaf ID: {{ new_leaf_info.leaf_id }}
Loopback0: {{ new_leaf_info.loopback }}
VTEP Loopback: {{ new_leaf_info.vtep }}

CONNECTIVITY:
Connected to Spines: {{ new_leaf_info.connected_spines | join(', ') }}

INTERFACE CONFIGURATION:
{% for spine_id in new_leaf_info.connected_spines %}
- Link to Spine{{ '%02d' | format(spine_id) }}: 10GE1/0/{{ loop.index }}
{% endfor %}

BGP PEERING:
{% for spine_id in new_leaf_info.connected_spines %}
- BGP Peer: Spine{{ '%02d' | format(spine_id) }} Loopback0
{% endfor %}

OSPF ADJACENCIES:
{% for spine_id in new_leaf_info.connected_spines %}
- OSPF Neighbor: Spine{{ '%02d' | format(spine_id) }}
{% endfor %}

VERIFICATION STEPS:
1. Ping loopback addresses:
   ping {{ new_leaf_info.loopback.split('/')[0] }}
   ping {{ new_leaf_info.vtep.split('/')[0] }}

2. Check BGP status:
   display bgp peer

3. Check OSPF status:
   display ospf peer

4. Check interface status:
   display ip interface brief

5. Verify VXLAN:
   display vxlan tunnel

NEXT STEPS:
1. Deploy tenant networks to the new leaf
2. Configure access ports for servers
3. Update monitoring systems
4. Update documentation

========================================
Report generated by Ansible Fabric Manager
========================================
